<?xml version="1.0" encoding="UTF-8"?>
<p>Before ERGM analysis, we visualized correlations between nodal variables by calculating Pearson correlation coefficients (
 <xref ref-type="supplementary-material" rid="pone.0239345.s003">S3 Fig</xref>) with the 
 <italic>corrplot</italic> package [
 <xref rid="pone.0239345.ref073" ref-type="bibr">73</xref>]. Because all five medicinal knowledge variables are highly correlated, each type of knowledge was analyzed separately. ERGMs were calculated using the 
 <italic>ergm</italic> command in R [
 <xref rid="pone.0239345.ref074" ref-type="bibr">74</xref>, 
 <xref rid="pone.0239345.ref075" ref-type="bibr">75</xref>]. Because descent, marriage and house distance depend on data from the entire network, they were calculated as undirected 303 Ã— 303 matrices. For descent, children, grandchildren, parents, and grandparents were coded 1 and all other relationships were coded 0. For marriage, spouses were coded 1 and non-spouses were coded 0. To measure the distance between houses, we calculated a matrix of the geodesic distance between each house using the 
 <italic>geosphere</italic> r package [
 <xref rid="pone.0239345.ref076" ref-type="bibr">76</xref>]. To reduce influence of positively skewed values, distance was log (x + 1)-transformed [
 <xref rid="pone.0239345.ref077" ref-type="bibr">77</xref>]. Remaining demographic data (e.g., age, gender) were added to the entire closed network as nodal attributes.
</p>
